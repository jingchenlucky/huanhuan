#手写applyMiddleware

middleware本质是，一个调用后返回dispatch创建函数的函数

compose：函数组合，将一个数组中的函数进行组合，形成一个新的函数，该函数调用时，实际上是反向调用之前组合的函数

//方式1
// const store = createStore(reducer, applyMiddleware(logger1, logger2));

//方式2
const store = applyMiddleware(logger1, logger2)(createStore)(reducer);
方式1实际上是通过方式2实现的，具体看createStore.js文件
//enhanced表示applymiddleware返回的函数
  if (typeof defaultState === 'function') {
    //第二个参数是应用中间件的函数返回值
    enhanced = defaultState;
    defaultState = undefined;
  }
  if (typeof enhanced === 'function') {
    //进入applyMiddleWare的处理逻辑
    return enhanced(createStore)(reducer, defaultState);
  }