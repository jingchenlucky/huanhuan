#ref

reference:引用

场景：希望直接引用dom元素中的某个方法，或者直接引用自定义组件中的某个方法

1.ref作用于内置的html组件，得到的将是真实的dom对象
2。ref作用于类组件，得到的将是类的实例
3。ref不能作用于函数组件

ref不再推荐只用字符串赋值，字符串赋值的方式将来可能会被移除。
目前ref赋值，推荐使用对象或者是函数。

**对象****
通过React.createRef()函数创建对象，在第一次渲染组件的时候，对对象赋值

**函数**
函数调用时间：
1componentDidMount的时候会调用该函数，在componentDidMount事件中可以使用ref
2如果ref的值发生了变动(新函数代替旧函数)，分别调用旧的函数及新函数一次，时间点出现在componentDidUpdate之前
    （1）旧函数被调用时，传递null
    (2)新函数被调用时，传递对象


***谨慎使用ref**
能够使用属性和状态控制，就不要用ref
1调用真实的dom对象中的方法
2需要调用类组件中的方法

#轮播图概括
Banner组件是最外层的轮播图容器，负责调用操作ImgContainer里的witchTo，通过ref获取组件里的方法
ImgContainer是里面装所有图片的容器，负责图片的运动switchTo（）,通过ref获取dom元素

#ref转发
函数组件不能使用ref，通常使用是为了获取内部的dom通过ref转发

forwardRef使用方法:
(1)参数传递的是函数组件不能是类组件，并且函数组件需要有第二个参数来得到ref
(2)返回值，返回一个新的组件


1通过const NewA = React.forwardRef(A);创建一个新的组件，
2给该组件NewA传递ref并不会处理，需要传递给A组件


类组件不能使用forwardRef的方式，但可以实现类似效果。将类组件包装成函数组件形式传递给forwardRef


#ref转发在高阶组件的应用
在高阶组件AComp直接使用ref,得到的将是{current: LogWrapper}，并不是我我们想要的，高阶组件不能影响功能，我们想要得到A,这时就要用到ref转发

ref不要常用，违背了REact理念
