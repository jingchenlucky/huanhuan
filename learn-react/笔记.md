#自定义Hook

# 自定义Hook

State Hook： useState
Effect Hook：useEffect

自定义Hook：将一些常用的、跨越多个组件的Hook功能，抽离出去形成一个函数，该函数就是自定义Hook，自定义Hook，由于其内部需要使用Hook功能，所以它本身也需要按照Hook的规则实现：

1. 函数名必须以use开头
2. 调用自定义Hook函数时，应该放到顶层

例如：

1. 很多组件都需要在第一次加载完成后，获取所有学生数据
2. 很多组件都需要在第一次加载完成后，启动一个计时器，然后在组件销毁时卸载


之前在类组件中的ComponentDidMount的证明周期函数需要做：
    1。ajax获取数据
    2。设置一些真实的DOM元素
    3。设置页面标题
    4。启动一个定时器
要全部卸载一个组件中，如果要拆分需要使用高阶组件(App.copy01.js)，高阶组件会让组件的层次关系变深且麻烦.或者是render props(App.copy04.js)


使用自定义Hook拆分函数：将一部分 公用方法 或者是 互不相干的副作用函数 抽离出来
类组件中的高阶组件也有类似功能。传入一个组件返回一个功能更强的组件(App.copy01.js)
    刚开始首次渲染的时候，resp为空，useRffect还没执行，在看到页面的时候useEffect才执行，resp才被赋值



使用Hook的时候，如果没有严格按照Hook的规则进行，eslintd的插件（eslint-plugin-react-hookd）就会爆出警告
在文件上方/* eslint "react-hooks/exhaustive-deps": "off" */忽略useEffct检查
